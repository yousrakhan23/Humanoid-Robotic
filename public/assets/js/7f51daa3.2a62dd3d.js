"use strict";(globalThis.webpackChunkphysical_ai_book_frontend=globalThis.webpackChunkphysical_ai_book_frontend||[]).push([[1899],{4165(e,i,s){s.r(i),s.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"robotics-module-one/chapter-1/lesson-2","title":"ROS 2 Topics","description":"Understanding publish-subscribe communication in ROS 2.","source":"@site/docs/robotics-module-one/chapter-1/lesson-2.md","sourceDirName":"robotics-module-one/chapter-1","slug":"/robotics-module-one/chapter-1/lesson-2","permalink":"/docs/robotics-module-one/chapter-1/lesson-2","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/robotics-module-one/chapter-1/lesson-2.md","tags":[],"version":"current","frontMatter":{"title":"ROS 2 Topics","description":"Understanding publish-subscribe communication in ROS 2."},"sidebar":"roboticsModuleSidebar","previous":{"title":"ROS 2 Nodes","permalink":"/docs/robotics-module-one/chapter-1/lesson-1"},"next":{"title":"ROS 2 Services","permalink":"/docs/robotics-module-one/chapter-1/lesson-3"}}');var r=s(4848),o=s(8453);const t={title:"ROS 2 Topics",description:"Understanding publish-subscribe communication in ROS 2."},l="ROS 2 Topics",c={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Topic Communication Overview",id:"topic-communication-overview",level:2},{value:"Message Flow",id:"message-flow",level:3},{value:"Creating Publishers and Subscribers",id:"creating-publishers-and-subscribers",level:2},{value:"Publisher Example",id:"publisher-example",level:3},{value:"Subscriber Example",id:"subscriber-example",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"Topic Commands",id:"topic-commands",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"ros-2-topics",children:"ROS 2 Topics"})}),"\n",(0,r.jsx)(i.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 Topics form the backbone of the publish-subscribe communication pattern in ROS 2. Topics enable asynchronous communication between nodes, allowing data to be shared efficiently in robotic systems. This lesson will explore the concepts of topics, publishers, and subscribers in ROS 2."}),"\n",(0,r.jsx)(i.h2,{id:"topic-communication-overview",children:"Topic Communication Overview"}),"\n",(0,r.jsx)(i.p,{children:"Topics in ROS 2 implement a publish-subscribe communication pattern where:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Publishers"})," send messages to a specific topic"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Subscribers"})," receive messages from a specific topic"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Messages"})," are data structures that flow between nodes"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"This pattern allows for decoupled communication where publishers and subscribers don't need to know about each other directly."}),"\n",(0,r.jsx)(i.h3,{id:"message-flow",children:"Message Flow"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Publisher Node A \u2192 Topic \u2192 Subscriber Node B\nPublisher Node C \u2192 Topic \u2192 Subscriber Node D\n                    \u2198 Subscriber Node E\n"})}),"\n",(0,r.jsx)(i.h2,{id:"creating-publishers-and-subscribers",children:"Creating Publishers and Subscribers"}),"\n",(0,r.jsx)(i.p,{children:"Here's an example of how to create a publisher and subscriber in Python:"}),"\n",(0,r.jsx)(i.h3,{id:"publisher-example",children:"Publisher Example"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello World: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(i.h3,{id:"subscriber-example",children:"Subscriber Example"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    rclpy.spin(minimal_subscriber)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(i.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 provides Quality of Service (QoS) settings to control the behavior of topic communication:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Reliability"}),": Best effort or reliable delivery"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Durability"}),": Volatile or transient local"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"History"}),": Keep last or keep all"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Depth"}),": Number of messages to store in history"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"topic-commands",children:"Topic Commands"}),"\n",(0,r.jsx)(i.p,{children:"Useful ROS 2 command-line tools for working with topics:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"ros2 topic list                    # List all active topics\nros2 topic info <topic_name>      # Get information about a topic\nros2 topic echo <topic_name>      # Print messages from a topic\nros2 topic pub <topic_name> <type> <data>  # Publish to a topic\n"})}),"\n",(0,r.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Use descriptive topic names following ROS naming conventions"}),"\n",(0,r.jsx)(i.li,{children:"Consider QoS settings based on application requirements"}),"\n",(0,r.jsx)(i.li,{children:"Use appropriate message types for the data being exchanged"}),"\n",(0,r.jsx)(i.li,{children:"Be mindful of message size and frequency for performance"}),"\n",(0,r.jsx)(i.li,{children:"Use latching for static data that new subscribers need"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(i.p,{children:"ROS 2 Topics provide a flexible and scalable communication mechanism for robotic systems. Understanding publishers, subscribers, and QoS settings is crucial for building robust ROS 2 applications. In the next lesson, we'll explore services for request-response communication patterns."})]})}function p(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,i,s){s.d(i,{R:()=>t,x:()=>l});var n=s(6540);const r={},o=n.createContext(r);function t(e){const i=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(o.Provider,{value:i},e.children)}}}]);